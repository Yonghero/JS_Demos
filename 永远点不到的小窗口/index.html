<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // window.outerWidth 包括浏览器的顶部功能栏
        // window.innerWidth  只包括浏览器的文档部分 即显示内容的部分
        // screen.availWidth  电脑屏幕的大小除去任务栏
        let game = {
            top: 0,
            left: 0,
            size: 100,
            config: "",
            pop: null,
            init() {
                this.offset = window.outerHeight - window.innerHeight;
                this.top = window.outerHeight - this.size - this.offset;
                this.left = window.outerWidth - this.size - this.offset;
                let randomTop = Math.floor(Math.random() * (this.top + 1));
                let randomLeft = Math.floor(Math.random() * (this.left + 1));
                this.config = `top=${randomTop},left=${randomLeft},height=${this.size},width=${this.size}`;
                this.pop = window.open("about:blank", "_blank", this.config);
                console.log(this.pop);
                let self = this;
                this.pop.onmouseover = function(e) {
                    let x = e.screenX,
                        y = e.screenY;
                    for (;;) {
                        let randomTop = Math.floor(Math.random() * (self.top + 1));
                        let randomLeft = Math.floor(Math.random() * (self.left + 1));
                        if (!(x > randomLeft && x < randomLeft + this.outerWidth && y > randomTop && y < randomTop + this.outerHeight)) {
                            this.moveTo(randomLeft, randomTop);
                            break;
                        }
                    }
                }

            }
        }
        game.init();
        console.log(screen.availHeight, window.outerHeight, window.innerHeight);
    </script>
</body>

</html>